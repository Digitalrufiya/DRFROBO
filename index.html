<!DOCTYPE html>
<html>
<head><title>DRF Robo Demo</title></head>
<body>
  <input type="email" id="email" placeholder="Email"/>
  <input type="password" id="password" placeholder="Password"/>
  <button id="loginBtn">Login</button>
  <br/><br/>
  <input type="file" id="fileInput" />
  <button id="uploadBtn" disabled>Upload</button>

  <script type="module">
    import DRFRoboSDK from './drfrobo-sdk.js';

    const sdk = new DRFRoboSDK({ apiUrl: 'http://localhost:4000' });

    document.getElementById('loginBtn').onclick = async () => {
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      try {
        await sdk.login(email, password);
        alert('Logged in!');
        document.getElementById('uploadBtn').disabled = false;
      } catch(e) {
        alert('Login failed');
      }
    };

    document.getElementById('uploadBtn').onclick = async () => {
      const file = document.getElementById('fileInput').files[0];
      if (!file) return alert('Pick a file first');
      try {
        const cid = await sdk.uploadFile(file);
        alert('Uploaded! CID: ' + cid);
      } catch(e) {
        alert('Upload failed');
      }
    };
  </script>
</body>
</html>
